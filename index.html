<!DOCTYPE html>
<html>
  <head>
    <!-- Set title and set up Progressive Web App functionality -->
    <title>OpenCamRemote Web Control</title>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="OpenCamRemote">
  </head>
  <body>
    <!-- Pan and Tilt buttons -->
    <div class="control-container" id="button-container">
      <button id="up" onmousedown="up();" onmouseup="ystop();">Up</button><br>
      <button id="left" onmousedown="left();" onmouseup="xstop();">Left</button><button id="right" onmousedown="right();" onmouseup="xstop();">Right</button><br>
      <button id="down" onmousedown="down();" onmouseup="ystop();">Down</button>
    </div>
    
    <!-- Javascript -->
    <script>
	// URL to the OpenCamRemote REST API
	var baseURL = prompt("What is the URL to the server?", "http://opencamremote:8080");
	
	// Button Functions
	const up = async () => {
		const response = await fetch(`${baseURL}/y/ccw`);
	}
	const down = async () => {
		const response = await fetch(`${baseURL}/y/cw`);
	}
	
	const left = async () => {
		const response = await fetch(`${baseURL}/x/ccw`);
	}
	const right = async () => {
		const response = await fetch(`${baseURL}/x/cw`);
	}
	
	const ystop = async () => {
		const response = await fetch(`${baseURL}/y/stop`);
	}
	const xstop = async () => {
		const response = await fetch(`${baseURL}/x/stop`);
	}
    </script>
    
    <!-- Styling -->
    <style>
      .control-container {
        /* Set Control Container to full width */
        width: 100%;
      }
    </style>
  </body>
</html>
